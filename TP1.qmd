---
title: "1er Trabajo Práctico de Econometría"
author: "Mauro y Juan Camilo"
format: pdf
lang: es
editor: visual
---

## Librerías

```{r}
#|output: false
#| include: false

library(tidyverse) #Para manejar bases de datos
library(ggplot2)
library(eph)   
library(knitr)     #Para las tablas
```

```{r}
df <- get_microdata(year = 2023, trimester = 4, type = 'individual')
```

```{r}
#| echo: false
#| include: false

df <- organize_labels(df=df, type='individual') 

df <- df %>% mutate_at(vars(REGION, ESTADO), ~as.character(.))%>%
  mutate_at(vars(NIVEL_ED), ~as.factor(.))
```

Nos quedamos únicamente con los jefes de hogar, hombres, con edades entre 25 y 65 años, ocupados y asalariados.

```{r}
df2 <- df %>% 
  filter(CH03 == 1,           #Jefes/as de hogar
         CH04 == 1,           #Hombres          
         CH06 >= 25,          #Entre 25...      
         CH06 <= 65,          #...y 65 años     
         ESTADO == "Ocupado", #Ocupados         
         CAT_OCUP == 3,       #Asalariados
         P21 > 0,             #Salario positivo
         CH12 < 9             #Todos los niveles educ salvo 'educ especial'
                   )
```

Generamos las variables que necesitamos:

```{r}
#| label: tbl-salario
#| tbl-cap: "Salario"
#| echo: false
#| include: false

df2 <- df2 %>% 
  mutate(logSal = log(df2$P21))

tabla <- df2 %>% 
  select(c("P21", "logSal"))

knitr::kable(head(tabla))
```

```{r}

Regresion1 <- lm(logSal ~ CH06 + CH12, data = df2)
summary(Regresion1)
```
